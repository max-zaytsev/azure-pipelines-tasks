parameters:
- name: postfix
  type: string
  default: ""
- name: prefix
  type: string
  default: "users/$(username)"
- name: currentSprint
  type: string
  default: "0"

steps:
- powershell: |
    Write-Host "isHotfix: $(isHotfix)"
    $isH = $(isHotfix)
    if ($isH) {
      Write-Host "Hotfix"
      $hfPostfix = "-hotfix"
    } else {
      Write-Host "Not hotfix"
      $hfPostfix = ""
    }
    Write-Host "Current sprint $(currentSprint)"
    $branchName = "${{ parameters.prefix }}/m$(currentSprint).$(currentDate)/${{ parameters.postfix }}${hfPostfix}"
    Write-Host $branchName
    Write-Host "##vso[task.setVariable variable=branchName]$branchName"
  displayName: Generate branch name
