parameters:
- name: prefix
  type: string
  default: "users/$(username)"
steps:
- powershell: |
    $postfix =  if("$(isHotfix)" -eq $true) { "hotfix-$(Build.BuildId)" } else { "courtesy-push" }
    Write-Host "Current sprint $postfix"
    $branchName = "${{ parameters.prefix }}/m$(currentSprint).$(currentDate)/$postfix"
    Write-Host $branchName
    Write-Host "##vso[task.setVariable variable=branchName]$branchName"
  displayName: Generate branch name

  #$branchName = "users/$(username)/m${{ parameters.currentSprint }}-${currentDate}/${{ parameters.postfix }}"
  #$releaseBranch = "releases/m" + $(currentSprint) + "." + $(currentDate)
  #